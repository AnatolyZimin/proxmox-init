{"name":"Proxmox-init","tagline":"Python script to deploy GNU/Linux cloud images, cloud-style, on Proxmox KVM. Based on Proxmox API Python (proxmoxer) and cloud-init.","body":"# proxmox-init\r\n\r\nPython script to deploy GNU/Linux cloud images (tested with [Ubuntu](http://cloud-images.ubuntu.com/)), cloud-style, on Proxmox KVM.\r\nBased on Proxmox API Python (proxmoxer) and cloud-init.\r\nHardware templating of KVM instances is possible by flavors configuration file (inspired by OpenStack flavors).\r\nOnly local storage support, both directory and LVM Group.\r\nCloud-init is linked to Qemu-KVM machines by [NoCloud datasource] (http://cloudinit.readthedocs.org/en/latest/topics/datasources.html#no-cloud).\r\n\r\n## Installation\r\n\r\n    $ git clone https://github.com/libersoft/proxmox-init.git proxmox-init\r\n    $ cd proxmox-init\r\n    $ pip install requirements.txt\r\n\r\nYou need also to install `genisoimage`, needed to create the cloudinit seed datasource.\r\n\r\n## Configuration\r\n\r\nYou have to copy proxmox settings from `settings/settings.py.dist` to `settings/settings.py` and edit it to reflect your current proxmox configuration.\r\n\r\nYou can add and modify your hardware flavors in `flavors/`.\r\nIn this case you have also to update choices for `--flavor` cmdline switch in the main script.\r\n\r\nYou have to copy instance configuration from `settings/instance.py.dist` to `settings/instance.py` and edit it to reflect your need.\r\n\r\nCurrent format for configuration is quite rough and not very flexible.\r\n\r\nThe script assumes you have your ssh key in the authorized_keys of the proxmox node,\r\nfor the user specified in the settings file.\r\n\r\n## Usage\r\n    usage: proxvm-deploy.py [-h] --vmid VMID --name NAME [--flavor {micro,small}]\r\n                        [--storage {dir,lvm}]\r\n\r\n    Create a proxmox kvm and cloudinit it.\r\n\r\n    optional arguments:\r\n        -h, --help            show this help message and exit\r\n        --vmid VMID, -v VMID  Virtual machine id\r\n        --name NAME, -n NAME  Virtual machine name/hostname\r\n        --flavor {micro,small}, -f {micro,small}\r\n                        Virtual machine flavor\r\n        --storage {dir,lvm}, -s {dir,lvm}\r\n                        Virtual machine storage backend\r\n\r\n## Status\r\n\r\nRough working proof of concept.\r\n\r\n## Possible Improvements\r\n\r\n*   Puppet and chef section in cloudinit template.\r\n*   Ansible-pull launch on instance customization.\r\n*   Support to proxmox remote storage.\r\n*   Settings refactoring, especially network interfaces\r\n*   Extend cmdline arguments to choose base os image, proxmox node, proxmox host anb other.\r\n*   Code reorganization\r\n\r\n## Random Ideas and maybe\r\n\r\n*   Proxmox KVM Ansible module ?\r\n\r\n## License\r\n\r\n[Gnu General Public License 3.0](https://www.gnu.org/licenses/gpl.html)\r\n\r\n## Credits\r\n*   [Proxmoxer](https://github.com/swayf/proxmoxer)\r\n*   [Cloud-init](http://cloudinit.readthedocs.org/en/latest/index.html)\r\n*   [Proxmox API](http://pve.proxmox.com/pve2-api-doc/)\r\n*   [Local Ubuntu vm provisioning with cloud-init](http://qa.ubuntu.com/2012/06/19/local-ubuntu-vm-provisioning-with-cloud-init/)\r\n*   [Copying an image to a physical device](https://en.wikibooks.org/wiki/QEMU/Images#Copying_an_image_to_a_physical_device)\r\n*   [API-Create-KVM-with-logical-Volume](http://forum.proxmox.com/threads/12059-API-Create-KVM-with-Logical-Volume)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}